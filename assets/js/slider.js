!function($,undefined){$.Slider=function(options,element){this.$el=$(element),this._init(options)},$.Slider.defaults={current:0,bgincrement:50,autoplay:!1,interval:4e3},$.Slider.prototype={_init:function(options){this.options=$.extend(!0,{},$.Slider.defaults,options),this.$slides=this.$el.children("div.item-slider"),this.slidesCount=this.$slides.length,this.current=this.options.current,(this.current<0||this.current>=this.slidesCount)&&(this.current=0),this.$slides.eq(this.current).addClass("item-slider-current");for(var $navigation=$('<nav class="slider-dots"/>'),i=0;i<this.slidesCount;++i)$navigation.append("<span/>");$navigation.appendTo(this.$el),this.$pages=this.$el.find("nav.slider-dots > span"),this.$navNext=this.$el.find("span.slider-arrows-next"),this.$navPrev=this.$el.find("span.slider-arrows-prev"),this.isAnimating=!1,this.bgpositer=0,this.cssAnimations=Modernizr.cssanimations,this.cssTransitions=Modernizr.csstransitions,this.cssAnimations&&this.cssAnimations||this.$el.addClass("main-slider-fb"),this._updatePage(),this._loadEvents(),this.options.autoplay&&this._startSlideshow()},_navigate:function(page,dir){var $next,$current=this.$slides.eq(this.current),_self=this;if(this.current===page||this.isAnimating)return!1;this.isAnimating=!0;var classTo,classFrom,d;if(d=dir?dir:page>this.current?"next":"prev",this.cssAnimations&&this.cssAnimations&&("next"===d?(classTo="item-slider-toleft",classFrom="item-slider-fromright",++this.bgpositer):(classTo="item-slider-toright",classFrom="item-slider-fromleft",--this.bgpositer),this.$el.css("background-position",this.bgpositer*this.options.bgincrement+"% 0%")),this.current=page,$next=this.$slides.eq(this.current),this.cssAnimations&&this.cssAnimations){var rmClasses="item-slider-toleft item-slider-toright item-slider-fromleft item-slider-fromright";$current.removeClass(rmClasses),$next.removeClass(rmClasses),$current.addClass(classTo),$next.addClass(classFrom),$current.removeClass("item-slider-current"),$next.addClass("item-slider-current")}this.cssAnimations&&this.cssAnimations||($next.css("left","next"===d?"100%":"-100%").stop().animate({left:"0%"},1e3,function(){_self.isAnimating=!1}),$current.stop().animate({left:"next"===d?"-100%":"100%"},1e3,function(){$current.removeClass("item-slider-current")})),this._updatePage()},_updatePage:function(){this.$pages.removeClass("slider-dots-current"),this.$pages.eq(this.current).addClass("slider-dots-current")},_startSlideshow:function(){var _self=this;this.slideshow=setTimeout(function(){var page=page=_self.current<_self.slidesCount-1?_self.current+1:0;_self._navigate(page,"next"),_self.options.autoplay&&_self._startSlideshow()},this.options.interval)},page:function(idx){return idx>=this.slidesCount||0>idx?!1:(this.options.autoplay&&(clearTimeout(this.slideshow),this.options.autoplay=!1),void this._navigate(idx))},_loadEvents:function(){var _self=this;this.$pages.on("click.cslider",function(event){return _self.page($(this).index()),!1}),this.$navNext.on("click.cslider",function(event){_self.options.autoplay&&(clearTimeout(_self.slideshow),_self.options.autoplay=!1);var page=page=_self.current<_self.slidesCount-1?_self.current+1:0;return _self._navigate(page,"next"),!1}),this.$navPrev.on("click.cslider",function(event){_self.options.autoplay&&(clearTimeout(_self.slideshow),_self.options.autoplay=!1);var page=page=_self.current>0?_self.current-1:_self.slidesCount-1;return _self._navigate(page,"prev"),!1}),this.cssTransitions&&(this.options.bgincrement?this.$el.on("webkitTransitionEnd.cslider transitionend.cslider OTransitionEnd.cslider",function(event){event.target.id===_self.$el.attr("id")&&(_self.isAnimating=!1)}):this.$el.on("webkitAnimationEnd.cslider animationend.cslider OAnimationEnd.cslider",function(event){"toRightAnim4"!==event.originalEvent.animationName&&"toLeftAnim4"!==event.originalEvent.animationName||(_self.isAnimating=!1)}))}};var logError=function(message){this.console&&console.error(message)};$.fn.cslider=function(options){if("string"==typeof options){var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,"cslider");return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?void instance[options].apply(instance,args):void logError("no such method '"+options+"' for cslider instance"):void logError("cannot call methods on cslider prior to initialization; attempted to call method '"+options+"'")})}else this.each(function(){var instance=$.data(this,"cslider");instance||$.data(this,"cslider",new $.Slider(options,this))});return this}}(jQuery);